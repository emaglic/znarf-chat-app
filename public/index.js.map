{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/application-specfic/application-classes.js","webpack:///./src/js/application-specfic/hangouts.js","webpack:///./src/js/application-specfic/index.js","webpack:///./src/js/application-specfic/messenger.js","webpack:///./src/js/application-specfic/skype.js","webpack:///./src/js/application-specfic/slack.js","webpack:///./src/js/context-menu.js","webpack:///./src/js/default-screen.js","webpack:///./src/js/helpers.js","webpack:///./src/js/index.js","webpack:///./src/js/main.js","webpack:///./src/js/nav-item.js","webpack:///./src/js/prompt.js","webpack:///./src/js/webview.js","webpack:///./src/scss/index.scss","webpack:///./util/constants.js","webpack:///external \"electron\"","webpack:///external \"path\"","webpack:///external \"url\""],"names":["HangoutsSettings","require","SlackSettings","SkypeSettings","MessengerSettings","module","exports","ApplicationSettings","constructor","opts","getExecuteJS","refreshTime","setWebviewAttributes","webview","setAttribute","console","log","owner","useragent","ContextMenu","position","x","y","elements","container","main","template","contextMenuTemplate","createUI","document","createElement","classList","add","innerHTML","style","left","top","forEach","item","index","li","handleRole","role","querySelector","appendChild","navContainer","element","onclick","reload","openDevTools","deleteApp","label","zoomIn","zoomOut","zoomDefault","reorderItem","destroy","parentNode","removeChild","contextMenu","DefaultScreen","appendAppVersion","version","div","getDataUrl","img","Promise","resolve","reject","canvas","ctx","getContext","width","height","drawImage","toDataURL","importIcon","src","Image","onload","onerror","err","getFavicon","url","prependToUrl","includes","faviconUrl","http","XMLHttpRequest","open","send","status","Main","viewContainer","appVersion","init","window","innerWidth","offsetWidth","resize","onresize","ipcRenderer","NavItem","Prompt","FETCH_TEXT_FROM_STORAGE","SAVE_TEXT_IN_STORAGE","HANDLE_FETCH_TEXT_FROM_STORAGE","HANDLE_SAVE_TEXT_IN_STORAGE","navItems","addApp","prompt","appJSON","mouseTimer","mouseHoverTime","defaultScreen","body","navContainerInner","addAppButton","createPrompt","evt","preventDefault","onmouseleave","on","onOpenExternalUrl","bind","onFetchTextFromStorage","onSaveTextInStorage","event","data","appsJSON","JSON","parse","json","appsArr","apps","app","navItem","icon","name","length","direction","insertBefore","children","appEls","querySelectorAll","newAppOrder","el","_index","push","saveToStorage","saveAppsArr","newApp","iconSrc","js","stringify","toggleNavItem","toggle","remove","createContextMenu","CreateWebview","userAgent","useDefaultIcon","getContextTemplate","applicationSettings","detectApplication","items","badge","iconInitial","n","toUpperCase","substr","oncontextmenu","offsetX","pageY","filter","iconUrl","cancel","submit","clickCatcher","onkeyup","which","keyCode","onSubmit","focus","requiredFields","missingReqFields","field","value","files","path","then","String","catch","error","shell","zoom","hasFocus","webpreferences","spellcheck","getCombinedTagAttributes","attributeObj","str","keys","Object","values","key","addEventListener","protocol","openExternal","executeJavaScript","channel","args","unreadMessages","setZoomLevel","getZoomLevel","force"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/index.js\");\n","const HangoutsSettings = require('./hangouts');\nconst SlackSettings = require('./slack');\nconst SkypeSettings = require('./skype');\nconst MessengerSettings = require('./messenger');\n\nmodule.exports = {\n\tHangoutsSettings,\n\tSlackSettings,\n\tSkypeSettings,\n\tMessengerSettings,\n};\n","const ApplicationSettings = require('./index');\n\nclass HangoutsSettings extends ApplicationSettings {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tgetExecuteJS() {\n\t\treturn `\n    /* var Notification = function(title, opts) {\n\t\t\tconsole.log('title: ', title, 'opts: ', opts);\n\t\t\tipcRenderer.sendToHost(title, opts);\n\t\t}\n\t\twindow.Notification = Notification; */\n    let updateTimer = setInterval( () => {\n      //let unreadsAll = [...document.querySelectorAll('#hangout-landing-chat')];\n      let unread = 0;\n      let landingChat = document.querySelector('#hangout-landing-chat');\n      if(landingChat && landingChat.children && landingChat.children.length > 0 && landingChat.children[0].contentWindow && landingChat.children[0].contentWindow.document) {\n        let childWindow = landingChat.children[0].contentWindow;\n        let childDocument = childWindow.document;\n        let unreadsAll = [...childDocument.querySelectorAll('.lt')];\n        unreadsAll.forEach( (item) => {\n          let span = item.querySelector('span');\n          if(!span) return;\n          let fontWeight = childWindow.getComputedStyle(span).getPropertyValue('font-weight');\n          if(!fontWeight) return;\n          if(fontWeight == 700) unread += 1;\n        })\n      }\n      ipcRenderer.sendToHost('hangouts-status-update', { unreadMessages: unread });\n    }, ${this.refreshTime}) \n  `;\n\t}\n\n\tsetWebviewAttributes(webview) {\n\t\twebview.setAttribute('autosize', 'on');\n\t\twebview.setAttribute('useragent', 'Chrome');\n\t\twebview.setAttribute('nodeintegration', 'on');\n\t\twebview.setAttribute('disablewebsecurity', 'on');\n\t}\n}\n\nmodule.exports = HangoutsSettings;\n","class ApplicationSettings {\n\tconstructor(opts) {\n\t\tconsole.log('opts: ', opts);\n\t\tthis.owner = opts.owner;\n\t\tconsole.log(this.owner);\n\t\tthis.refreshTime = opts.refreshTime || 5000;\n\t\tthis.webview = this.owner.webview || null;\n\t}\n\n\tgetExecuteJS() {\n\t\treturn null;\n\t}\n}\n\nmodule.exports = ApplicationSettings;\n","const ApplicationSettings = require('./index');\n\nclass MessengerSettings extends ApplicationSettings {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tgetExecuteJS() {\n\t\treturn `\n\t\tvar hasFocus = null;\n\t\tvar Notification = function(title, opts) {\n\t\t\tipcRenderer.sendToHost('new-message', null);\n\t\t}\n\t\twindow.Notification = Notification;\n\t\tsetInterval( () => {\n\t\t\tlet newFocus = document.hasFocus();\n\t\t\tif(hasFocus !== newFocus) {\n\t\t\t\tipcRenderer.sendToHost('focus-change', newFocus)\n\t\t\t\thasFocus = newFocus;\n\t\t\t}\n\t\t}, this.refreshTime);\n  `;\n\t}\n}\n\nmodule.exports = MessengerSettings;\n","const ApplicationSettings = require('./index');\n\nclass SkypeSettings extends ApplicationSettings {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tgetExecuteJS() {\n\t\treturn `\n\t\tvar hasFocus = null;\n\t\tvar Notification = function(title, opts) {\n\t\t\tipcRenderer.sendToHost('new-message', null);\n\t\t}\n\t\twindow.Notification = Notification;\n\t\tsetInterval( () => {\n\t\t\tlet newFocus = document.hasFocus();\n\t\t\tif(hasFocus !== newFocus) {\n\t\t\t\tipcRenderer.sendToHost('focus-change', newFocus)\n\t\t\t\thasFocus = newFocus;\n\t\t\t}\n\t\t}, this.refreshTime);\n  `;\n\t}\n\n\tsetWebviewAttributes(webview) {\n\t\tconst useragent =\n\t\t\t'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.18362';\n\t\twebview.setAttribute('useragent', useragent);\n\t}\n}\n\nmodule.exports = SkypeSettings;\n","const ApplicationSettings = require('./index');\n\nclass SlackSettings extends ApplicationSettings {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tgetExecuteJS() {\n\t\treturn `\n\t\tvar hasFocus = null;\n\t\tvar Notification = function(title, opts) {\n\t\t\tipcRenderer.sendToHost('new-message', null);\n\t\t}\n\t\twindow.Notification = Notification;\n\t\tsetInterval( () => {\n\t\t\tlet newFocus = document.hasFocus();\n\t\t\tif(hasFocus !== newFocus) {\n\t\t\t\tipcRenderer.sendToHost('focus-change', newFocus)\n\t\t\t\thasFocus = newFocus;\n\t\t\t}\n\t\t}, this.refreshTime);\n  `;\n\t}\n\n\tsetWebviewAttributes(webview) {\n\t\tconst useragent =\n\t\t\t'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.122 Safari/537.36';\n\t\twebview.setAttribute('useragent', useragent);\n\t}\n}\n\nmodule.exports = SlackSettings;\n","class ContextMenu {\n\tconstructor(opts) {\n\t\tif (!opts.owner) return;\n\t\tthis.owner = opts.owner;\n\t\tthis.position = opts.position || { x: 0, y: 0 };\n\t\tthis.elements = {\n\t\t\tcontainer: this.owner.elements.main,\n\t\t};\n\t\tthis.template = this.owner.contextMenuTemplate;\n\t\tthis.createUI();\n\t}\n\n\tcreateUI() {\n\t\tconsole.log('this.owner: ', this.owner);\n\t\tlet main = document.createElement('div');\n\t\tmain.classList.add('context-menu', 'py-2');\n\t\tmain.innerHTML = `\n    <ul></ul>\n    `;\n\t\tif (this.position) {\n\t\t\tmain.style.left = this.position.x + 'px';\n\t\t\tmain.style.top = this.position.y + 'px';\n\t\t}\n\n\t\tthis.template.forEach((item, index) => {\n\t\t\tlet li = document.createElement('li');\n\t\t\tli.classList.add('context-item');\n\t\t\tli.innerHTML = this.handleRole(item, li) || item.role;\n\t\t\tmain.querySelector('ul').appendChild(li);\n\t\t});\n\n\t\tthis.elements = {\n\t\t\t...this.elements,\n\t\t\tmain,\n\t\t};\n\n\t\tthis.owner.elements.navContainer.appendChild(main);\n\t\t//let mainEl = document.querySelector('main');\n\t\t//mainEl.appendChild(main);\n\t}\n\n\thandleRole(item, element) {\n\t\tlet role = item.role;\n\n\t\tswitch (role) {\n\t\t\tcase 'Reload App':\n\t\t\t\telement.onclick = () => {\n\t\t\t\t\tif (this.owner.webview) this.owner.webview.reload();\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 'Open Developer Tools':\n\t\t\t\telement.onclick = () => {\n\t\t\t\t\tif (this.owner.webview) this.owner.webview.openDevTools();\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase 'Delete App':\n\t\t\t\telement.onclick = () => {\n\t\t\t\t\tthis.owner.deleteApp();\n\t\t\t\t};\n\t\t\t\tbreak;\n\n\t\t\tcase 'header':\n\t\t\t\telement.classList.add('header', 'py-0', 'px-2');\n\t\t\t\treturn item.label;\n\n\t\t\tcase 'divider':\n\t\t\t\telement.classList.add('divider', 'p-0');\n\t\t\t\treturn `<hr class='my-2'>`;\n\n\t\t\tcase 'Zoom +':\n\t\t\t\telement.onclick = () => {\n\t\t\t\t\tif (this.owner.webview) this.owner.webview.zoomIn();\n\t\t\t\t};\n\t\t\t\tbreak;\n\n\t\t\tcase 'Zoom -':\n\t\t\t\telement.onclick = () => {\n\t\t\t\t\tif (this.owner.webview) this.owner.webview.zoomOut();\n\t\t\t\t};\n\t\t\t\tbreak;\n\n\t\t\tcase 'Zoom Default':\n\t\t\t\telement.onclick = () => {\n\t\t\t\t\tif (this.owner.webview) this.owner.webview.zoomDefault();\n\t\t\t\t};\n\t\t\t\tbreak;\n\n\t\t\tcase 'Move Up -':\n\t\t\t\telement.onclick = () => {\n\t\t\t\t\tthis.owner.owner.reorderItem(this.owner, -1);\n\t\t\t\t};\n\t\t\t\tbreak;\n\n\t\t\tcase 'Move Down +':\n\t\t\t\telement.onclick = () => {\n\t\t\t\t\tconsole.log('this.owner.owner: ', this.owner.owner);\n\t\t\t\t\tthis.owner.owner.reorderItem(this.owner, 1);\n\t\t\t\t};\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t\telement.classList.add('p-2');\n\t\treturn null;\n\t}\n\n\tdestroy() {\n\t\tthis.elements.main.parentNode.removeChild(this.elements.main);\n\t\tthis.owner.owner.contextMenu = null;\n\t}\n}\n\nmodule.exports = ContextMenu;\n","class DefaultScreen {\n\tconstructor(opts) {\n\t\tthis.opts = opts || {};\n\t\tthis.elements = {\n\t\t\tcontainer:\n\t\t\t\tthis.opts.container || document.querySelector('.view-container'),\n\t\t};\n\t\tthis.createUI();\n\t}\n\n\tcreateUI() {\n\t\tlet main = document.createElement('div');\n\t\tmain.classList.add(\n\t\t\t'h-100',\n\t\t\t'd-flex',\n\t\t\t'flex-column',\n\t\t\t'align-items-center',\n\t\t\t'justify-content-center',\n\t\t\t'container',\n\t\t\t'default-screen',\n\t\t\t'text-center'\n\t\t);\n\t\tmain.innerHTML = `\n\t\t\t<div class='default-screen-center-content'>\n\t\t\t\t<img src='./public/images/znarf-logo.svg' class='default-znarf-logo' />\n      \t<h1>Welcome to Znarf</h1>\n      \t<h4>Click + to add a new application</h4>\n      </div>\n\t\t`;\n\t\tthis.elements.main = main;\n\t\tthis.elements.container.appendChild(main);\n\t}\n\n\tappendAppVersion(version) {\n\t\tlet div = document.createElement('div');\n\t\tdiv.classList.add('app-version');\n\t\tdiv.innerHTML = `App Version: ${version}`;\n\t\tthis.elements.main.appendChild(div);\n\t\tthis.elements.version = div;\n\t}\n}\n\nmodule.exports = DefaultScreen;\n","// Add App Prompt\r\n// =========================================================================================\r\n/* function Prompt(opts) {\r\n  this.element = document.createElement(\"div\");\r\n  this.element.classList.add(\"prompt-container\");\r\n  this.element.innerHTML = `\r\n  <div class=\"prompt-click-catcher\"></div>\r\n  <div\r\n    class=\"d-flex flex-column justify-content-center align-items-center h-100 text-white container prompt-container-inner\"\r\n  >\r\n    <div class='row row0 w-100'>\r\n      <div class=\"col-12 text-center\">\r\n        <h2>Setup New Web Application</h2>\r\n      </div>\r\n    </div>\r\n    <div class=\"row row1 w-100 mt-5\">\r\n      <div class=\"col-12\">\r\n        <label class=\"sr-only\" for=\"inlineFormInputGroupUsername\">URL</label>\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <div class=\"input-group-text\">URL</div>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control prompt-url\"\r\n            placeholder=\"Enter URL Here\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row row2 mt-5 w-100\">\r\n      <div class=\"col-12 text-center mb-2\">\r\n        <h5>Add Custom Icon</h5>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <label class=\"sr-only\" for=\"inlineFormInputGroupUsername\">Icon URL</label>\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <div class=\"input-group-text\">Icon URL</div>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control prompt-icon-url\"\r\n            placeholder=\"Enter Image Address\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class='col-3 d-inline-flex justify-content-center aligh-items-center h3'>\r\n        OR\r\n      </div>\r\n      <div class=\"col-3 d-inline-flex justify-content-center align-items-center\">\r\n        <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            class=\"prompt-icon\"\r\n            placeholder=\"Upload Icon Image\"\r\n          />\r\n      </div>\r\n    </div>\r\n    <div class=\"row row3 mt-5 w-100\">\r\n      <div class=\"col-12 text-center mb-2\">\r\n        <h5>Add Custom Useragent</h5>\r\n      </div>\r\n      <div class=\"col-12\">\r\n        <label class=\"sr-only\" for=\"inlineFormInputGroupUsername\">Icon URL</label>\r\n        <div class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <div class=\"input-group-text\">UserAgent</div>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control prompt-custom-useragent\"\r\n            placeholder=\"Enter Custom Useragent (Optional)\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row d-inline-flex row4 w-100 justify-content-center align-items-center mt-5\">\r\n      <button class=\"prompt-cancel btn btn-danger mr-3\">CANCEL</button>\r\n      <button class=\"prompt-submit btn btn-success\">SUBMIT</button>\r\n    </div>\r\n  </div>  \r\n    `;\r\n  this.input = this.element.querySelector(\"input.prompt-url\");\r\n  this.icon = this.element.querySelector(\"input.prompt-icon\");\r\n  this.iconUrl = this.element.querySelector(\"input.prompt-icon-url\");\r\n  this.useragent = this.element.querySelector(\"input.prompt-custom-useragent\");\r\n  this.cancel = this.element.querySelector(\"button.prompt-cancel\");\r\n  this.submit = this.element.querySelector(\"button.prompt-submit\");\r\n  this.clickCatcher = this.element.querySelector(\"div.prompt-click-catcher\");\r\n\r\n  let main = document.querySelector(\"main\");\r\n  main.appendChild(this.element);\r\n\r\n  this.input.focus();\r\n\r\n  this.destroy = () => {\r\n    this.element.parentNode.removeChild(this.element);\r\n  };\r\n\r\n  return this;\r\n} */\r\n// =========================================================================================\r\n\r\n// Convert Image to DataURL\r\n// =========================================================================================\r\nconst getDataUrl = (img) => {\r\n  return new Promise((resolve, reject) => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n\r\n    ctx.drawImage(img, 0, 0);\r\n    resolve(canvas.toDataURL(\"image/png\"));\r\n  });\r\n};\r\n// =========================================================================================\r\n\r\n// Import An Icon Image\r\n// =========================================================================================\r\nconst importIcon = (src) => {\r\n  return new Promise((resolve, reject) => {\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      resolve(getDataUrl(img));\r\n    };\r\n    img.onerror = (err) => {\r\n      reject(err);\r\n    };\r\n    img.src = src;\r\n  });\r\n};\r\n// =========================================================================================\r\n\r\n// Attempts to Automatically Find a Favicon\r\n// ========================================================================================\r\nconst getFavicon = (url) => {\r\n  let prependToUrl = url.includes(\"https://\")\r\n    ? \"\"\r\n    : url.includes(\"http://\")\r\n    ? \"\"\r\n    : \"http://\";\r\n  let faviconUrl = prependToUrl + url + \"/favicon.ico\";\r\n  var http = new XMLHttpRequest();\r\n  http.open(\"HEAD\", faviconUrl, false);\r\n  http.send();\r\n  if (http.status != 404) {\r\n    return faviconUrl;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n// ========================================================================================\r\n\r\nmodule.exports = {\r\n  importIcon,\r\n  getFavicon,\r\n};\r\n","import '../scss/index.scss';\r\nconst Main = require('./main');\r\nconst navContainer = document.querySelector('.nav-container');\r\nconst viewContainer = document.querySelector('.view-container');\r\n\r\nlet appVersion = null;\r\nlet main;\r\nconst init = () => {\r\n\tviewContainer.style.width =\r\n\t\twindow.innerWidth - navContainer.offsetWidth + 'px';\r\n\tmain = new Main();\r\n\t//navInit();\r\n\t//new Notification(\"Hello!\", { content: \"Notification world!\" }); // Send push notification\r\n};\r\n\r\nconst resize = () => {\r\n\tviewContainer.style.width =\r\n\t\twindow.innerWidth - navContainer.offsetWidth + 'px';\r\n};\r\n\r\n/* \r\n\r\nThis is the renderer process. \r\nThis is how you talk to the main process\r\n\r\n// Get message from main process....\r\nipcRenderer.on('asynchronous-reply', (event, arg) => {\r\n  console.log(arg) // prints \"pong\"\r\n})\r\n\r\n// Send message to main process...\r\nipcRenderer.send('asynchronous-message', 'ping')\r\n\r\n*/\r\n\r\nwindow.onresize = resize;\r\nwindow.onload = init;\r\n","const { ipcRenderer } = window.require('electron');\nconst NavItem = require('./nav-item');\nconst Prompt = require('./prompt');\nconst ContextMenu = require('./context-menu');\nconst importIcon = require('./helpers').importIcon;\nconst getFavicon = require('./helpers').getFavicon;\nconst {\n\tFETCH_TEXT_FROM_STORAGE,\n\tSAVE_TEXT_IN_STORAGE,\n\tHANDLE_FETCH_TEXT_FROM_STORAGE,\n\tHANDLE_SAVE_TEXT_IN_STORAGE,\n} = require('../../util/constants');\nconst DefaultScreen = require('./default-screen');\n\nclass Main {\n\tconstructor() {\n\t\tthis.viewContainer = null;\n\t\tthis.navContainer = null;\n\t\tthis.navItems = [];\n\t\tthis.addApp = null;\n\t\tthis.prompt = null;\n\t\tthis.appJSON = null;\n\t\tthis.mouseTimer = null;\n\t\tthis.appVersion = null;\n\t\tthis.mouseHoverTime = 2000;\n\t\t//this.apps = [];\n\t\tthis.contextMenu = null;\n\t\tthis.defaultScreen = new DefaultScreen();\n\t\tthis.elements = {\n\t\t\tbody: document.querySelector('body'),\n\t\t};\n\n\t\tthis.init();\n\t}\n\n\t// INIT\n\t// ==================================================================================================\n\tinit() {\n\t\t//console.log('appsJSON: ', appsJSON);\n\n\t\tlet navContainer = document.querySelector('.nav-container');\n\t\tlet navContainerInner = document.querySelector('.nav-container-inner');\n\t\tlet viewContainer = document.querySelector('.view-container');\n\n\t\tlet addAppButton = document.createElement('div');\n\t\taddAppButton.classList.add('nav-button', 'add-app-button');\n\t\taddAppButton.innerHTML = `\n      <img src='./public/images/add.svg' class='nav-icon' />\n    `;\n\n\t\taddAppButton.onclick = () => {\n\t\t\tthis.createPrompt();\n\t\t};\n\n\t\tnavContainer.appendChild(addAppButton);\n\n\t\tthis.elements = {\n\t\t\t...this.elements,\n\t\t\tnavContainer,\n\t\t\tnavContainerInner,\n\t\t\tviewContainer,\n\t\t\taddAppButton,\n\t\t};\n\n\t\tthis.elements.body.onclick = (evt) => {\n\t\t\tevt.preventDefault();\n\t\t\tif (this.contextMenu) this.contextMenu.destroy();\n\t\t};\n\n\t\tthis.elements.navContainer.onmouseleave = (evt) => {\n\t\t\tif (this.contextMenu) this.contextMenu.destroy();\n\t\t};\n\n\t\tipcRenderer.on('get-app-version', (evt, version) => {\n\t\t\tthis.appVersion = version;\n\t\t\tthis.defaultScreen.appendAppVersion(this.appVersion);\n\t\t});\n\n\t\tipcRenderer.on('openExternalUrl', this.onOpenExternalUrl.bind(this));\n\t\tipcRenderer.on(\n\t\t\tHANDLE_FETCH_TEXT_FROM_STORAGE,\n\t\t\tthis.onFetchTextFromStorage.bind(this)\n\t\t);\n\t\tipcRenderer.on(\n\t\t\tHANDLE_SAVE_TEXT_IN_STORAGE,\n\t\t\tthis.onSaveTextInStorage.bind(this)\n\t\t);\n\t\tipcRenderer.send(FETCH_TEXT_FROM_STORAGE);\n\t}\n\t// ==================================================================================================\n\n\tcreatePrompt() {\n\t\tlet prompt = document.querySelector('.addapp-prompt');\n\t\tif (prompt) return;\n\t\tnew Prompt({ owner: this });\n\t}\n\n\t// ==================================================================================================\n\tonOpenExternalUrl(event, url) {}\n\t// ==================================================================================================\n\n\t// ==================================================================================================\n\tonFetchTextFromStorage(event, data) {\n\t\tlet appsJSON = JSON.parse(data.json);\n\t\tlet appsArr = appsJSON.apps;\n\t\t//console.log(\"appJSON: \", appsJSON);\n\t\t//console.log(\"appsArr: \", appsArr);\n\t\tappsArr.forEach((app, index) => {\n\t\t\t//console.log(\"app: \", app);\n\t\t\tlet navItem = new NavItem({\n\t\t\t\turl: app.url,\n\t\t\t\ticon: app.icon,\n\t\t\t\tname: app.name,\n\t\t\t\towner: this,\n\t\t\t\tindex: app.index || this.navItems.length,\n\t\t\t});\n\t\t\t//navItem.button.click();\n\t\t});\n\t\t//console.log('ta-da')\n\t\t/* if(navContainer) {\n          let firstButton = navContainer.querySelector('.nav-button') \n          if(firstButton) firstButton.click();\n        } */\n\t\t//this.init();\n\t}\n\t// ==================================================================================================\n\n\t// ==================================================================================================\n\tonSaveTextInStorage(event, data) {\n\t\t//console.log(\"handleSaveText\");\n\t}\n\n\treorderItem(item, direction) {\n\t\tlet navContainerInner = document.querySelector('.nav-container-inner');\n\t\tif (direction === 1) {\n\t\t\tif (item.index === this.navItems.length - 1) return;\n\t\t\tnavContainerInner.insertBefore(\n\t\t\t\titem.elements.main,\n\t\t\t\tnavContainerInner.children[item.index + 2]\n\t\t\t);\n\t\t} else if (direction === -1) {\n\t\t\tif (item.index === 0) return;\n\t\t\tnavContainerInner.insertBefore(\n\t\t\t\titem.elements.main,\n\t\t\t\tnavContainerInner.children[item.index - 1]\n\t\t\t);\n\t\t}\n\t\tlet appEls = [...navContainerInner.querySelectorAll('.nav-button')];\n\t\tlet newAppOrder = [];\n\t\tappEls.forEach((el, index) => {\n\t\t\tthis.navItems.forEach((app, _index) => {\n\t\t\t\tif (el === app.elements.main) {\n\t\t\t\t\tnewAppOrder.push(app);\n\t\t\t\t\tapp.index = index;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tconsole.log('newAppOrder: ', newAppOrder);\n\t\tthis.navItems = newAppOrder;\n\t\tthis.saveToStorage();\n\t}\n\n\tsaveToStorage() {\n\t\tlet saveAppsArr = [];\n\t\tthis.navItems.forEach((item) => {\n\t\t\tlet newApp = {\n\t\t\t\tname: item.name,\n\t\t\t\turl: item.url,\n\t\t\t\ticon: item.iconSrc,\n\t\t\t\tindex: item.index,\n\t\t\t};\n\t\t\tsaveAppsArr.push(newApp);\n\t\t});\n\t\tlet js = { apps: saveAppsArr };\n\t\tipcRenderer.send(SAVE_TEXT_IN_STORAGE, JSON.stringify(js));\n\t}\n\t// ==================================================================================================\n\n\ttoggleNavItem(index) {\n\t\tconsole.log('index: ', index);\n\t\tthis.navItems.forEach((navItem, _index) => {\n\t\t\t//console.log('navItem: ', navItem);\n\t\t\tif (navItem.index === index) {\n\t\t\t\tnavItem.elements.main.classList.add('selected');\n\t\t\t\tif (navItem.webview) {\n\t\t\t\t\tnavItem.webview.toggle(1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnavItem.elements.main.classList.remove('selected');\n\t\t\t\tif (navItem.webview) {\n\t\t\t\t\tnavItem.webview.toggle(-1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tcreateContextMenu({ owner, position }) {\n\t\tif (this.contextMenu) {\n\t\t\tthis.contextMenu.destroy();\n\t\t}\n\t\tthis.contextMenu = new ContextMenu({ owner, position });\n\t}\n}\nmodule.exports = Main;\n","const CreateWebview = require('./webview');\nconst { ipcRenderer } = window.require('electron');\nconst {\n\tHangoutsSettings,\n\tSlackSettings,\n\tSkypeSettings,\n\tMessengerSettings,\n} = require('./application-specfic/application-classes');\n\nclass NavItem {\n\tconstructor(opts) {\n\t\tconsole.log('opts: ', opts);\n\t\tthis.url = opts.url;\n\t\tthis.webview = null;\n\t\tthis.owner = opts.owner;\n\t\tthis.index = opts.index;\n\t\tthis.userAgent = opts.userAgent || null;\n\t\tthis.index = this.owner.navItems.length;\n\t\tthis.name = opts.name;\n\t\tthis.useDefaultIcon =\n\t\t\topts.icon === './public/images/default.svg'\n\t\t\t\t? true\n\t\t\t\t: opts.icon === null\n\t\t\t\t? true\n\t\t\t\t: false;\n\t\tthis.iconSrc = opts.icon ? opts.icon : './public/images/default.svg';\n\t\t/* this.mouseOverTimeout = null;\n\t\tthis.mouseOverTime = 2000; */\n\t\tthis.elements = {\n\t\t\tnavContainer: this.owner.elements.navContainer,\n\t\t\tnavContainerInner: this.owner.elements.navContainerInner,\n\t\t};\n\t\tthis.contextMenuTemplate = this.getContextTemplate();\n\t\t//console.log('this.owner: ', this.owner);\n\t\tthis.owner.navItems.push(this);\n\n\t\tthis.applicationSettings = this.detectApplication(this.url);\n\n\t\tthis.webview = new CreateWebview({\n\t\t\towner: this,\n\t\t\ticon: this.iconSrc,\n\t\t\tname: this.name,\n\t\t\turl: this.url,\n\t\t\tuserAgent: this.userAgent,\n\t\t\tviewContainer: this.owner.elements.viewContainer,\n\t\t});\n\n\t\tthis.createUI();\n\t}\n\n\tget navItems() {\n\t\treturn this.owner.navItems;\n\t}\n\n\tset navItems(items) {\n\t\tthis.owner.navItems = items;\n\t}\n\n\tdetectApplication(url) {\n\t\tif (url.includes('google.com')) {\n\t\t\treturn new HangoutsSettings({ owner: this });\n\t\t}\n\t\tif (url.includes('slack.com')) {\n\t\t\treturn new SlackSettings({ owner: this });\n\t\t}\n\t\tif (url.includes('skype.com')) {\n\t\t\treturn new SkypeSettings({ owner: this });\n\t\t}\n\t\tif (url.includes('messenger.com')) {\n\t\t\treturn new MessengerSettings({ owner: this });\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetContextTemplate() {\n\t\treturn [\n\t\t\t{ role: 'header', label: this.name },\n\t\t\t{ role: 'divider' },\n\t\t\t{ role: 'Reload App' },\n\t\t\t{ role: 'Zoom +' },\n\t\t\t{ role: 'Zoom -' },\n\t\t\t{ role: 'Zoom Default' },\n\t\t\t{ role: 'Move Up -' },\n\t\t\t{ role: 'Move Down +' },\n\t\t\t{ role: 'Open Developer Tools' },\n\t\t\t{ role: 'Delete App' },\n\t\t];\n\t}\n\n\tcreateUI() {\n\t\tlet main = document.createElement('div');\n\t\tmain.classList.add('nav-button');\n\t\t//main.dataset.index = this.index;\n\t\tmain.innerHTML = `\n\t\t\t\t\t\t<img src='${this.iconSrc}' class='nav-icon' />\n\t\t\t\t\t\t<div class='nav-badge justify-content-center align-items-center'></div>\n\t\t\t\t`;\n\n\t\tlet badge = main.querySelector('.nav-badge');\n\n\t\tif (this.useDefaultIcon) {\n\t\t\tlet iconInitial = document.createElement('div');\n\t\t\ticonInitial.classList.add('service-icon-name');\n\t\t\tlet n =\n\t\t\t\tthis.name[0].toUpperCase() +\n\t\t\t\tthis.name.substr(1, this.name.length > 8 ? 8 : this.name.length - 1);\n\t\t\ticonInitial.innerHTML = `${n}`;\n\t\t\tmain.appendChild(iconInitial);\n\t\t}\n\n\t\t//console.log('nav-item this.elements: ', this.elements)\n\t\t/* this.elements.navContainerInner.insertBefore(\n\t\t\tmain,\n\t\t\tthis.elements.navContainerInner.childNodes[\n\t\t\t\tthis.elements.navContainerInner.childElementCount - 1\n\t\t\t]\n\t\t);\n */\n\t\tthis.elements.navContainerInner.appendChild(main);\n\n\t\tmain.oncontextmenu = (evt) => {\n\t\t\tevt.preventDefault();\n\t\t\t//console.log('nav-item evt: ', evt);\n\t\t\tthis.owner.createContextMenu({\n\t\t\t\towner: this,\n\t\t\t\tposition: { x: evt.offsetX, y: evt.pageY },\n\t\t\t});\n\t\t};\n\n\t\tmain.onclick = (evt) => {\n\t\t\tthis.owner.toggleNavItem(this.index);\n\t\t};\n\n\t\tthis.elements = {\n\t\t\t...this.elements,\n\t\t\tmain,\n\t\t\tbadge,\n\t\t};\n\t}\n\n\tdeleteApp() {\n\t\tthis.elements.main.parentNode.removeChild(this.elements.main);\n\t\tif (this.webview && this.webview.element)\n\t\t\tthis.webview.element.parentNode.removeChild(this.webview.element);\n\t\tthis.navItems = this.navItems.filter((x) => x.index !== this.index);\n\t\tthis.owner.saveToStorage();\n\t}\n}\n\nmodule.exports = NavItem;\n","const { importIcon, getFavicon } = require('./helpers');\nconst NavItem = require('./nav-item');\n\n// Add App Prompt\n// =========================================================================================\nclass Prompt {\n\tconstructor(opts) {\n\t\tif (!opts) opts = {};\n\t\tthis.owner = opts.owner;\n\t\tthis.elements = {\n\t\t\tcontainer: opts.main || document.querySelector('main'),\n\t\t};\n\n\t\tthis.createUI();\n\t}\n\n\tcreateUI() {\n\t\tconst main = document.createElement('div');\n\t\tmain.classList.add('prompt-container', 'addapp-prompt');\n\t\tmain.innerHTML = `\n    <div class=\"prompt-click-catcher\"></div>\n    <div\n      class=\"d-flex flex-column justify-content-center align-items-center h-100 text-white container prompt-container-inner\"\n    >\n      <div class='row row0 w-100'>\n        <div class=\"col-12 text-center\">\n          <h2>New Web Application</h2>\n        </div>\n      </div>\n      <div class='row row1 w-100 mt-3'>\n      <div class=\"col-12\">\n          <label class=\"sr-only\" for=\"inlineFormInputGroupUsername\">Name</label>\n          <div class=\"input-group\">\n            <div class=\"input-group-prepend\">\n              <div class=\"input-group-text\">Name</div>\n            </div>\n            <input\n              type=\"text\"\n              class=\"form-control prompt-name\"\n              placeholder=\"Enter a name for your application\"\n            />\n          </div>\n        </div>\n      </div>\n      <div class=\"row row1 w-100 mt-3\">\n        <div class=\"col-12\">\n          <label class=\"sr-only\" for=\"inlineFormInputGroupUsername\">URL</label>\n          <div class=\"input-group\">\n            <div class=\"input-group-prepend\">\n              <div class=\"input-group-text\">URL</div>\n            </div>\n            <input\n              type=\"text\"\n              class=\"form-control prompt-url\"\n              placeholder=\"Enter URL Here\"\n            />\n          </div>\n        </div>\n      </div>\n      <div class=\"row row2 mt-3 w-100\">\n        <div class=\"col-12 text-center mb-2\">\n          <h5>Add Custom Icon</h5>\n        </div>\n        <div class=\"col-6\">\n          <label class=\"sr-only\" for=\"inlineFormInputGroupUsername\">Icon URL</label>\n          <div class=\"input-group\">\n            <div class=\"input-group-prepend\">\n              <div class=\"input-group-text\">Icon URL</div>\n            </div>\n            <input\n              type=\"text\"\n              class=\"form-control prompt-icon-url\"\n              placeholder=\"Enter Image Address\"\n            />\n          </div>\n        </div>\n        <div class='col-3 d-inline-flex justify-content-center aligh-items-center h3'>\n          OR\n        </div>\n        <div class=\"col-3 d-inline-flex justify-content-center align-items-center\">\n          <input\n              type=\"file\"\n              accept=\"image/*\"\n              class=\"prompt-icon\"\n              placeholder=\"Upload Icon Image\"\n            />\n        </div>\n      </div>\n      <div class=\"row row3 mt-3 w-100\">\n        <div class=\"col-12 text-center mb-2\">\n          <h5>Add Custom Useragent</h5>\n        </div>\n        <div class=\"col-12\">\n          <label class=\"sr-only\" for=\"inlineFormInputGroupUsername\">Icon URL</label>\n          <div class=\"input-group\">\n            <div class=\"input-group-prepend\">\n              <div class=\"input-group-text\">UserAgent</div>\n            </div>\n            <input\n              type=\"text\"\n              class=\"form-control prompt-custom-useragent\"\n              placeholder=\"Enter Custom Useragent (Optional)\"\n            />\n          </div>\n        </div>\n      </div>\n      <div class=\"row d-inline-flex row4 w-100 justify-content-center align-items-center mt-3\">\n        <button class=\"prompt-cancel btn btn-danger mr-3\">CANCEL</button>\n        <button class=\"prompt-submit btn btn-success\">SUBMIT</button>\n      </div>\n    </div>  \n      `;\n\n\t\tlet name = main.querySelector('input.prompt-name');\n\t\tlet url = main.querySelector('input.prompt-url');\n\t\tlet icon = main.querySelector('input.prompt-icon');\n\t\tlet iconUrl = main.querySelector('input.prompt-icon-url');\n\t\tlet useragent = main.querySelector('input.prompt-custom-useragent');\n\t\tlet cancel = main.querySelector('button.prompt-cancel');\n\t\tlet submit = main.querySelector('button.prompt-submit');\n\t\tlet clickCatcher = main.querySelector('div.prompt-click-catcher');\n\n\t\tthis.elements = {\n\t\t\t...this.elements,\n\t\t\tmain,\n\t\t\tname,\n\t\t\turl,\n\t\t\ticon,\n\t\t\ticonUrl,\n\t\t\tuseragent,\n\t\t\tcancel,\n\t\t\tsubmit,\n\t\t\tclickCatcher,\n\t\t};\n\n\t\tclickCatcher.onclick = () => {\n\t\t\tthis.destroy();\n\t\t};\n\n\t\tcancel.onclick = () => {\n\t\t\tthis.destroy();\n\t\t};\n\n\t\turl.onkeyup = (evt) => {\n\t\t\tif (evt.which === 13 || evt.keyCode === 13) this.onSubmit();\n\t\t};\n\n\t\tsubmit.onclick = (evt) => {\n\t\t\tthis.onSubmit();\n\t\t};\n\n\t\t//console.log('this.elements: ', this.elements)\n\t\tthis.elements.container.appendChild(main);\n\t\tthis.elements.name.focus();\n\t}\n\n\tonSubmit() {\n\t\tlet name = this.elements.name;\n\t\tlet icon = this.elements.icon;\n\t\tlet iconUrl = this.elements.iconUrl;\n\t\tlet url = this.elements.url;\n\t\tlet useragent = this.elements.useragent;\n\n\t\tconst requiredFields = [name, url];\n\t\tlet missingReqFields = [];\n\t\trequiredFields.forEach((field) => {\n\t\t\tif (!field.value) {\n\t\t\t\tfield.classList.add('prompt-required', 'text-white');\n\t\t\t\tmissingReqFields.push(field);\n\t\t\t}\n\t\t});\n\t\tif (missingReqFields.length) return;\n\n\t\tlet prependToUrl = url.value.includes('https://')\n\t\t\t? ''\n\t\t\t: url.value.includes('http://')\n\t\t\t? ''\n\t\t\t: 'http://';\n\n\t\tif (icon.files.length || iconUrl.value || getFavicon(url.value)) {\n\t\t\tlet path = icon.files.length\n\t\t\t\t? icon.files[0].path\n\t\t\t\t: iconUrl.value\n\t\t\t\t? iconUrl.value\n\t\t\t\t: prependToUrl + url.value + '/favicon.ico';\n\n\t\t\timportIcon(path)\n\t\t\t\t.then((iconSrc) => {\n\t\t\t\t\tlet navItem = new NavItem({\n\t\t\t\t\t\turl: `${prependToUrl}${url.value}`,\n\t\t\t\t\t\ticon: String(iconSrc),\n\t\t\t\t\t\tname: name.value,\n\t\t\t\t\t\tuserAgent: useragent.value,\n\t\t\t\t\t\towner: this.owner,\n\t\t\t\t\t\tindex: this.owner.navItems.length,\n\t\t\t\t\t});\n\t\t\t\t\tthis.owner.navItems.push(navItem);\n\t\t\t\t\tthis.owner.saveToStorage();\n\t\t\t\t})\n\t\t\t\t.catch((err) => console.error(err));\n\t\t} else {\n\t\t\tlet navItem = new NavItem({\n\t\t\t\turl: `${prependToUrl}${url.value}`,\n\t\t\t\ticon: null,\n\t\t\t\tname: name.value,\n\t\t\t\tuserAgent: useragent.value,\n\t\t\t\towner: this.owner,\n\t\t\t\tindex: this.owner.navItems.length,\n\t\t\t});\n\t\t\tthis.owner.navItems.push(navItem);\n\t\t\tthis.owner.saveToStorage();\n\t\t}\n\t\tthis.destroy();\n\t}\n\n\tdestroy() {\n\t\tthis.elements.main.parentNode.removeChild(this.elements.main);\n\t\tthis.owner.prompt = null;\n\t}\n}\n// =========================================================================================\nmodule.exports = Prompt;\n","const { shell } = require('electron');\r\nconst { ipcRenderer } = window.require('electron');\r\nconst path = require('path');\r\n\r\nclass CreateWebview {\r\n\tconstructor(opts) {\r\n\t\tthis.owner = opts.owner;\r\n\t\tthis.applicationSettings = opts.owner.applicationSettings;\r\n\t\tthis.icon = opts.icon;\r\n\t\tthis.name = opts.name;\r\n\t\tthis.url = opts.url;\r\n\t\tthis.userAgent = opts.userAgent;\r\n\t\tthis.viewContainer = opts.viewContainer;\r\n\t\tthis.zoom = 1;\r\n\t\tthis.hasFocus = null;\r\n\t\tthis.element = null;\r\n\r\n\t\tthis.webpreferences = {\r\n\t\t\tspellcheck: true,\r\n\t\t};\r\n\r\n\t\tthis.createUI();\r\n\t}\r\n\r\n\t/* \tthis.element.dataset.hostname = new URL(\r\n    app.url.includes(\"http\") ? app.url : `http://${app.url}`\r\n  ).hostname.toLowerCase(); */\r\n\r\n\tgetCombinedTagAttributes(attributeObj) {\r\n\t\tlet str = '';\r\n\t\tlet keys = Object.keys(attributeObj);\r\n\t\tlet values = Object.values(attributeObj);\r\n\t\tkeys.forEach((key, index) => {\r\n\t\t\tstr += `${key}=${values[index]}`;\r\n\t\t\tif (index < keys.length - 1) str += ', ';\r\n\t\t});\r\n\t\tconsole.log('attributes: ', str);\r\n\t\treturn str;\r\n\t}\r\n\r\n\tcreateUI() {\r\n\t\tthis.element = document.createElement('webview');\r\n\t\tthis.element.setAttribute(\r\n\t\t\t'webpreferences',\r\n\t\t\tthis.getCombinedTagAttributes(this.webpreferences)\r\n\t\t);\r\n\t\tthis.element.setAttribute('allowpopups', true);\r\n\t\tthis.element.setAttribute('preload', `./preload.js`);\r\n\t\tthis.element.classList.add('webview', 'bg-light');\r\n\t\tthis.element.addEventListener('new-window', (evt) => {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tconst protocol = require('url').parse(evt.url).protocol;\r\n\t\t\tif (protocol === 'http:' || protocol === 'https:') {\r\n\t\t\t\tshell.openExternal(evt.url);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (this.userAgent) {\r\n\t\t\tthis.element.setAttribute('useragent', this.userAgent);\r\n\t\t} else {\r\n\t\t\tif (\r\n\t\t\t\tthis.applicationSettings &&\r\n\t\t\t\tthis.applicationSettings.setWebviewAttributes\r\n\t\t\t) {\r\n\t\t\t\tthis.applicationSettings.setWebviewAttributes(this.element);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet prependToUrl = this.url.includes('https://')\r\n\t\t\t? ''\r\n\t\t\t: this.url.includes('http://')\r\n\t\t\t? ''\r\n\t\t\t: 'http://';\r\n\t\tthis.element.src = prependToUrl + this.url;\r\n\r\n\t\tif (this.applicationSettings && this.applicationSettings.getExecuteJS) {\r\n\t\t\tthis.element.addEventListener('dom-ready', (evt) => {\r\n\t\t\t\tthis.element.executeJavaScript(\r\n\t\t\t\t\tthis.applicationSettings.getExecuteJS(),\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.element.addEventListener('ipc-message', (evt) => {\r\n\t\t\t//console.log('ipc-message: ', evt);\r\n\r\n\t\t\tif (evt.channel === 'focus-change') {\r\n\t\t\t\tthis.hasFocus = evt.args[0];\r\n\t\t\t\tif (this.hasFocus) {\r\n\t\t\t\t\tthis.owner.elements.badge.classList.add('d-none');\r\n\t\t\t\t\tthis.owner.elements.badge.classList.remove('bg-danger');\r\n\t\t\t\t\tthis.owner.elements.badge.innerHTML = '';\r\n\t\t\t\t}\r\n\t\t\t} else if (evt.channel === 'new-message') {\r\n\t\t\t\tif (!this.hasFocus) {\r\n\t\t\t\t\tthis.owner.elements.badge.classList.add('d-flex', 'bg-danger');\r\n\t\t\t\t\tthis.owner.elements.badge.innerHTML = '1';\r\n\t\t\t\t}\r\n\t\t\t} else if (evt.channel === 'hangouts-status-update') {\r\n\t\t\t\tlet data = null;\r\n\t\t\t\tif (evt.args && evt.args.length) {\r\n\t\t\t\t\tdata = evt.args[0];\r\n\t\t\t\t}\r\n\t\t\t\tif (!data) return;\r\n\r\n\t\t\t\tif (data.unreadMessages > 0) {\r\n\t\t\t\t\tthis.owner.elements.badge.classList.add('d-flex', 'bg-danger');\r\n\t\t\t\t\tthis.owner.elements.badge.innerHTML = data.unreadMessages;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.owner.elements.badge.classList.add('d-none');\r\n\t\t\t\t\tthis.owner.elements.badge.classList.remove('bg-danger');\r\n\t\t\t\t\tthis.owner.elements.badge.innerHTML = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.viewContainer.appendChild(this.element);\r\n\t}\r\n\r\n\treload() {\r\n\t\tthis.element.reload();\r\n\t}\r\n\r\n\topenDevTools() {\r\n\t\tthis.element.openDevTools();\r\n\t}\r\n\r\n\tzoomIn() {\r\n\t\tthis.element.setZoomLevel(this.element.getZoomLevel() + 0.2);\r\n\t}\r\n\r\n\tzoomOut() {\r\n\t\tthis.element.setZoomLevel(this.element.getZoomLevel() - 0.2);\r\n\t}\r\n\r\n\tzoomDefault() {\r\n\t\tthis.element.setZoomLevel(0);\r\n\t}\r\n\r\n\t/* setUserAgent(url) {\r\n\t\tlet _url = url.toLowerCase();\r\n\r\n\t\tif (_url.includes('google.com')) {\r\n\t\t\tthis.element.setAttribute('autosize', 'on');\r\n\t\t\tthis.element.setAttribute('useragent', 'Chrome');\r\n\t\t\tthis.element.setAttribute('nodeintegration', 'on');\r\n\t\t\tthis.element.setAttribute('disablewebsecurity', 'on');\r\n\t\t}\r\n\r\n\t\tif (_url.includes('slack.com')) {\r\n\t\t\tconst ua =\r\n\t\t\t\t'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.122 Safari/537.36';\r\n\t\t\tthis.element.setAttribute('useragent', ua);\r\n\t\t}\r\n\r\n\t\tif (_url.includes('messenger.com')) {\r\n\t\t}\r\n\r\n\t\tif (_url.includes('skype.com')) {\r\n\t\t\tconst ua =\r\n\t\t\t\t'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.18362';\r\n\t\t\tthis.element.setAttribute('useragent', ua);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t} */\r\n\r\n\ttoggle(force = 0) {\r\n\t\tif (force === -1) {\r\n\t\t\tthis.element.classList.remove('visible');\r\n\t\t} else if (force === 1) {\r\n\t\t\tthis.element.classList.add('visible');\r\n\t\t} else {\r\n\t\t\tthis.element.classList.toggle('visible');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = CreateWebview;\r\n","// extracted by mini-css-extract-plugin","module.exports = {\r\n    FETCH_TEXT_FROM_STORAGE: 'fetch-text-from-storage',\r\n    SAVE_TEXT_IN_STORAGE: 'save-text-in-storage',\r\n    HANDLE_FETCH_TEXT_FROM_STORAGE: 'handle-fetch-text-from-storage',\r\n    HANDLE_SAVE_TEXT_IN_STORAGE: 'handle-save-in-storage'\r\n}","module.exports = require(\"electron\");","module.exports = require(\"path\");","module.exports = require(\"url\");"],"sourceRoot":""}